<template name="library">

<script>
$(document).ready(function(){
    $('[data-toggle="tooltip"]').tooltip(); 
});

</script>

    {{#if userExists}}
    <div class="row">
        {{#with userExists}}
            <!--<ul class="nav nav-pills col-xs-10 col-xs-offset-2">
                <li class="active"><a href="{{pathForLibrary}}">Library</a></li>
                <li><a href="{{pathForProfile}}">Profile</a></li>
                {{#if isMyAccount}}
                    <li><a href="{{pathForRequests}}">Requests</a></li>
                {{/if}}
            </ul>-->
            <div class="col-xs-12">
                <h2 style="text-align:center; font-family: 'Nunito', sans-serif; color: #333333; font-weight: 400;">{{username}}'s Library</h2>
                <a href="{{pathForAddBook}}" class="btn btn-default pull-right">Add Book</a>
            </div>
        {{/with}}
    </div>
    <br>
    <div class="row row-centered">
        {{#with unsortedBooks}}
            {{#if this.count}}
            <!-- BOOK PREVIEW -->
                <div class="col-xs-12 col-sm-6 col-md-4">
                    <div class="well" id="bookPreview" style="background-color: #f8f8f8; height: 400px; width: 300px">
                            <img src="img/books_tomasso.jpg" class="img-responsive" alt="Book Title" style="float:left; margin-top: 0px; width:120px;height:160px; margin-right: 20px">
                            <h4 style="font-family: 'Nunito', sans-serif; color: #333333; font-weight: 400; text-align: left; margin-top: 0px">Title</h4>
                            <h5 style="font-family: 'Nunito', sans-serif; color: #333333; font-weight: 400; text-align: left; margin-top:13px">Author</h5>
                            <button class="button" style="float:left; margin-top:4px; margin-right: 5px; border:0">Request</button>
                            <span class="badge" style="float:left; margin-top: 7px;">(#)</span>
                            <br>
                            <hr />
                        
                            <div class="bookDescription" style="text-align: justify; white-space: normal">
                            (book summary)
                            </div>
                    </div>
                </div>
            <!-- END OF BOOK PREVIEW -->
                <div class="col-xs-12 col-sm-6 col-md-4">
                    <div id="deModal" class="well" style="background-color: #F8F8F8">
                        <h4 style="font-family: 'Nunito', sans-serif; color: #333333; font-weight: 400; margin-top: 0px">Unsorted</h4>
                        <ul>
                            {{#each this}}
                            <li>
                                {{title}}
                            </li>
                            {{/each}}
                        </ul>
                    </div>
                </div>
            {{/if}}
        {{/with}}
        {{#each shelves}}
        <div class="col-xs-12 col-sm-6 col-md-4">
            <div class="well" style="background-color: #F8F8F8">
                <h4 style="font-family: 'Nunito', sans-serif; color: #333333; font-weight: 400; margin-top: 0px; margin-bottom: 20px;">{{name}}</h4>
                <div class="scrollmenu">
                <ul>
                    
                    {{#each booksOnShelf}}
                        <button class="bookTitle" id="specificBook"></button>
                        
                    {{else}}
                        {{#if isMyAccount}}
                            This shelf is empty. <button class="deleteShelfButton">Delete Shelf</button>
                        {{/if}}
                    {{/each}}
                </ul>
                </div>
            </div>
        </div>
        {{/each}}
        {{#if isMyAccount}}
        <div class="col-xs-12 col-sm-6 col-md-4">
            <div class="well">
                <form class="newShelf">
                    <input type="text" id="shelfName" name="shelfName" placeholder="New Shelf" style="border-color: #ebebeb; border-radius: 5px"/>
                    <input type="submit" class="glyphicon glyphicon-plus" style="font-family: 'Nunito', sans-serif; color: #333333"/>
                </form>
            </div>
        </div>
        {{/if}}
    </div>
    {{else}}
        This user does not exist.
    {{/if}}
</template>